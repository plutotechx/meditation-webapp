<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Update Daily Meditation</title>
  <style>
    :root{
      --bg:#0b1220; --card:rgba(255,255,255,.08); --border:rgba(255,255,255,.12);
      --text:#eaf0ff; --muted:rgba(234,240,255,.75); --input:rgba(0,0,0,.22);
      --btn:#6aa9ff; --btnText:#081122; --danger:#ff6a6a; --ok:#65ffb3; --radius:18px;
    }
    body{font-family:system-ui,-apple-system,"Segoe UI",sans-serif;margin:0;background:var(--bg);color:var(--text)}
    .wrap{max-width:820px;margin:0 auto;padding:24px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px}
    h1{margin:0 0 6px;font-size:22px}
    .muted{color:var(--muted);margin:0 0 16px;line-height:1.55}
    label{display:block;margin:12px 0 6px}
    select{
      width:100%;box-sizing:border-box;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:var(--input);color:#fff;padding:12px 12px;outline:none
    }
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:760px){ .grid{grid-template-columns:1fr 1fr} }
    button{
      margin-top:14px;width:100%;padding:12px 14px;border:0;border-radius:14px;
      background:var(--btn);color:var(--btnText);font-weight:800;cursor:pointer
    }
    button:disabled{opacity:.6;cursor:not-allowed}
    .msg{margin-top:12px;min-height:22px}
    .msg.ok{color:var(--ok)}
    .msg.bad{color:var(--danger)}
    .small{font-size:12px;color:var(--muted);margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Update Daily Meditation</h1>
      <p class="muted">‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 3 ‡πÄ‡∏ß‡∏•‡∏≤ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡∏∞ 3‚Äì5 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠ 10 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏≤‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>

      <form id="f">
        <label>‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
        <select name="name" required>
          <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ ‚Äî</option>
          <option>‡∏™‡∏∏‡∏£‡πÄ‡∏ä‡∏©‡∏ê‡πå (‡∏ï‡∏±‡πâ‡∏°)</option>
          <option>‡∏ö‡∏±‡∏ç‡∏ç‡∏±‡∏ï‡∏¥ (‡πÅ‡∏î‡∏á)</option>
          <option>‡∏£‡∏±‡∏ä‡πÄ‡∏®‡∏£‡∏©‡∏ê‡πå (‡∏¢‡∏®)</option>
          <option>‡∏ä‡∏ô‡∏∏‡∏î‡∏° (‡∏î‡∏≠‡∏ô)</option>
          <option>‡∏ó‡∏£‡∏á‡∏ä‡∏±‡∏¢ (‡∏ó‡∏£‡∏á)</option>
          <option>‡∏™‡∏∏‡∏£‡∏∏‡πà‡∏á‡∏£‡∏±‡∏ï‡∏ô‡πå (‡πÄ‡∏Å‡πà‡∏á)</option>
          <option>‡∏≠‡∏ï‡∏¥‡∏û‡∏£ (‡πÇ‡∏≠)</option>
          <option>‡πÄ‡∏Å‡∏™‡∏ì‡∏µ (‡πÄ‡∏Å‡πã)</option>
          <option>‡∏™‡∏°‡∏†‡∏û (‡πÄ‡∏≠‡∏Å)</option>
          <option>‡∏ê‡∏¥‡∏ï‡∏†‡∏£‡∏ì‡πå (‡πÄ‡∏ö‡∏•‡∏•‡πå)</option>
          <option>‡∏≠‡∏∏‡∏°‡∏≤‡∏û‡∏£ (‡∏ô‡∏Å)</option>
          <option>‡∏ì‡∏±‡∏ê‡∏û‡∏• (‡∏ó‡πá‡∏≠‡∏î)</option>
          <option>‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏û‡∏á‡∏©‡πå (‡∏û‡∏µ)</option>
          <option>‡∏ò‡∏ô‡∏û‡∏£ (‡∏û‡∏£)</option>
          <option>‡∏£‡∏≤‡∏¢‡∏≤‡∏ß‡∏î‡∏µ (‡πÄ‡∏ü‡∏£‡∏¥‡∏ô)</option>
          <option>‡∏ö‡∏±‡∏ç‡∏ç‡∏±‡∏ï‡∏¥ (‡∏ö‡∏≠‡∏¢)</option>
          <option>‡∏ò‡∏µ‡∏£‡∏û‡∏• (‡∏ï‡πâ‡∏≠‡∏°)</option>
          <option>‡∏ô‡∏£‡∏¥‡∏® (‡πÄ‡∏≠‡πá‡∏Å‡∏ã‡πå)</option>
          <option>‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥ (‡∏ï‡∏µ‡πã)</option>
          <option>‡∏à‡∏≤‡∏£‡∏∏‡∏ß‡∏£‡∏£‡∏ì (‡∏à‡∏∏‡πã‡∏°)</option>
          <option>‡∏ì‡∏±‡∏è‡∏ê‡∏≤ (‡πÄ‡∏°‡∏¢‡πå)</option>
          <option>‡∏ß‡∏£‡∏¥‡∏ô‡∏ó‡∏£ (‡∏ï‡πà‡∏≠)</option>
          <option>‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå (‡πÉ‡∏´‡∏°‡πà)</option>
          <option>‡∏£‡∏≤‡∏ä‡∏±‡∏¢ (‡∏ä‡∏±‡∏¢)</option>
          <option>‡∏£‡∏±‡∏ç‡∏ä‡∏ô‡∏≤ (‡∏à‡∏µ‡∏ô‡πà‡∏≤)</option>
          <option>‡∏≠‡∏£‡∏ß‡∏£‡∏≤ (‡∏ú‡∏±‡∏Å‡πÅ‡∏û‡∏ß)</option>
          <option>‡∏ß‡∏£‡∏£‡∏ì‡∏ä‡∏±‡∏¢ (‡∏î‡∏¥‡∏ß)</option>
          <option>‡∏ò‡∏ô‡∏Å‡∏§‡∏© (‡∏û‡∏¥‡∏ß)</option>
          <option>‡∏ö‡∏∏‡∏ç‡∏§‡∏ó‡∏ò‡∏¥‡πå (‡πÉ‡∏´‡∏°‡πà)</option>
          <option>‡∏à‡∏¥‡∏£‡∏≤‡∏¢‡∏∏‡∏ó‡∏ò (‡∏•‡∏µ‡πÇ‡∏≠)</option>
          <option>‡∏ô‡∏ô‡∏ó‡∏ä‡∏≤ (‡∏ß‡∏¥‡∏ß)</option>
          <option>‡∏¢‡∏¥‡πà‡∏á‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå (‡∏Å‡∏∏‡πâ‡∏á)</option>
          <option>‡∏û‡∏£‡∏ä‡∏ô‡∏±‡∏ô (‡∏°‡∏≤‡∏£‡πå‡∏Ñ)</option>
          <option>‡∏®‡∏£‡∏≤‡∏ß‡∏∏‡∏í‡∏¥ (‡∏ö‡∏≠‡∏•)</option>
          <option>‡∏ô‡∏±‡∏ô‡∏ó‡∏û‡∏á‡∏®‡πå (‡πÇ‡∏ö‡πä‡∏ó)</option>
          <option>‡∏ì‡∏±‡∏ê‡∏ß‡∏∏‡∏í‡∏¥ (‡πÄ‡∏ü‡∏µ‡∏¢‡∏™)</option>
          <option>‡∏Å‡∏§‡∏©‡∏î‡∏≤ (‡πÇ‡∏à)</option>
          <option>‡∏£‡∏ì‡∏§‡∏ó‡∏ò‡∏¥‡πå (‡πÄ‡∏°‡πà‡∏ô)</option>
          <option>‡∏≠‡∏£‡∏ß‡∏£‡∏≤ (‡∏ú‡∏±‡∏Å‡πÅ‡∏û‡∏£‡∏ß)</option>
          <option>‡∏ò‡∏ô‡∏≤‡∏û‡∏£ (‡∏û‡∏£)</option>
          <option>‡∏ò‡∏µ‡∏£‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå (‡∏ï‡πà‡∏≤‡∏¢)</option>
          <option>‡∏ì‡∏†‡∏±‡∏ó‡∏£ (‡∏ï‡∏±‡∏ô)</option>
          <option>‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå (‡πÄ‡∏≠‡∏Å)</option>
        </select>

        <div class="grid">
          <div>
            <label>‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</label>
            <select name="weekday" required>
              <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô ‚Äî</option>
              <option>‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</option><option>‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</option><option>‡∏û‡∏∏‡∏ò</option>
              <option>‡∏û‡∏§‡∏´‡∏±‡∏™</option><option>‡∏®‡∏∏‡∏Å‡∏£‡πå</option><option>‡πÄ‡∏™‡∏≤‡∏£‡πå</option><option>‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå</option>
            </select>
          </div>

          <div>
            <label>‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏™‡∏°‡∏≤‡∏ò‡∏¥</label>
            <select name="session" required>
              <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á ‚Äî</option>
              <option>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1 / ‡∏ï‡∏∑‡πà‡∏ô‡∏ô‡∏≠‡∏ô-‡πÄ‡∏ä‡πâ‡∏≤</option>
              <option>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2 / ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô</option>
              <option>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3 / ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô-‡∏Ñ‡πà‡∏≥</option>
            </select>
          </div>
        </div>

        <label>‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏™‡∏°‡∏≤‡∏ò‡∏¥ (‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</label>
        <select name="duration" required>
          <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ ‚Äî</option>
          <option>3-5 ‡∏ô‡∏≤‡∏ó‡∏µ</option>
          <option>10 ‡∏ô‡∏≤‡∏ó‡∏µ</option>
        </select>

        <button id="btn" type="submit">‡∏™‡πà‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</button>
        <div class="msg" id="msg"></div>
        <div class="small">‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏ñ‡∏ö‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Google ‡πÅ‡∏•‡πâ‡∏ß üéâ</div>
      </form>
    </div>
  </div>

<script>
  const form = document.getElementById("f");
  const btn  = document.getElementById("btn");
  const msg  = document.getElementById("msg");

  form.addEventListener("submit", async (ev) => {
    ev.preventDefault();
    btn.disabled = true;
    msg.className = "msg";
    msg.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());

    try {
      const res = await fetch("/api/submit", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(payload),
      });
      const out = await res.json().catch(() => ({}));

      if (res.ok && out.ok) {
        msg.className = "msg ok";
        msg.textContent = "‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ";
        form.reset();
      } else {
        msg.className = "msg bad";
        msg.textContent = "‡∏™‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå " + (out.error || "unknown_error");
      }
    } catch (e) {
      msg.className = "msg bad";
      msg.textContent = "‡∏™‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå " + e;
    } finally {
      btn.disabled = false;
    }
  });
</script>
</body>
</html>
